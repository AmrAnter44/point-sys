appId: com.gymmanagement.app
productName: "Point Gym Management System"
copyright: "Copyright Â© 2024 Point Gym System"
directories:
  output: dist
  buildResources: build

files:
  - "electron/**/*"
  - "package.json"
  - "!**/*.ts"
  - "!**/*.tsx"
  - "!dist"

extraResources:
  - from: ".next/standalone"
    to: "app"
    filter: ["**/*"]
  - from: ".next/static"
    to: "app/.next/static"
    filter: ["**/*"]
  - from: "public"
    to: "app/public"
    filter: ["**/*"]
  - from: "prisma"
    to: "app/prisma"
    filter: ["**/*"]
  - from: ".env.production"
    to: "app/.env.production"

asar: true
asarUnpack:
  - "node_modules/@prisma/**/*"
  - "node_modules/.prisma/**/*"
  - "node_modules/bwip-js/**/*"
  - "node_modules/sharp/**/*"
  - "node_modules/better-sqlite3/**/*"
  - "prisma/**/*"
  - "electron/check-and-migrate.js"
  - "electron/licenseCheck.js"

win:
  target:
    - target: nsis
      arch: [x64]
  icon: build/icon.ico
  requestedExecutionLevel: requireAdministrator

nsis:
  oneClick: false
  perMachine: true
  allowElevation: true
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: "Point Gym System"
  uninstallDisplayName: "Point Gym Management System"
  artifactName: "GymSystem-Setup-${version}.${ext}"
  deleteAppDataOnUninstall: false
  runAfterFinish: true